---
title: "Power and Inequality: "
author: "Isabel Dean"
description: "My Final project"
output:
  distill::distill_article:
    self_contained: false
---

  ## Introduction
(1) an introduction where you introduce the research question and hypothesis and briefly describe why it is interesting; 

- Introduction: (2pts)
    - describe the research question and main hypothesis
    - describe why it is important. (1-2 paragraphs)

Is Presidential Power linked to the economic development of a country? A form of investigating how liberal a country is is to examine the power balances, or imbalances that lie in the government and the people. The spread of liberalism across a nation is often discussed as a measure of democracy or a form of determining democratic legitimacy. If a country has a severe power imbalance, 

  ## Data
(2) a data section that briefly describes the data source, describes how the key dependent and independent variables are measured (e.g., a survey, statistical model, or expert coding), and also produces a plot that summarizes the dependent variable; 

For the data section, you should 

- note if your research design is cross-sectional (most projects will be of this type) or one of the other designs we discussed (randomized experiment, before-and-after, differences-in-differences). CR4OSS. SECTIONINAL
- Data section: (3pts)
    - 2-3 paragraphs
        - INDEPENDENT- PRES POWER
        - DEPENDENDT- INCOME INEQUALITY
        - survey
    - plot visualizing main outcome of interest


  ## Results
(3) a results section that contains a scatterplot, barplot, or boxplot of the main relationship of interest and output for the main regression of interest; and 

- Results section: (8pts)
    - plot of main analysis
    - regression output
    - 2-3 paragraphs of description and interpretation of the plots and regression (including interpreting the main coefficient of interest and describing if it is statistically significant and if we should interpret it causally). This section could be longer if you choose to include additional analyses.
    
For the results section, you should interpret (in plain English) the main coefficient of interest in your regression. You should also comment on the statistical significance of the estimated coefficient and whether or not you believe the coefficient to represent a causal effect.

  ## Conclusion
(4) a brief (one paragraph) concluding section that summarizes your results, assesses the extent to which you find support for your hypothesis, describes limitations of your analysis and threats to inference, and states how your analysis could be improved (e.g., improved data that would be useful to collect).
- Conclusion section: 1 paragraph (2pts)
    - (i) summarizing results and assessing the extent to which you find support for your hypothesis;
    - (ii) describing limitations of the analysis and threats to inference (missing data, confounding, etc), and stating how you could improve your analysis if you had more time/money.



```{r}
pres_powers <- read.csv("PrespowData_FINAL.csv")

inequality <- read.csv("inequality.csv")

pres_powers

final_dataset <- pres_powers |> left_join(
  inequality, by = c("country", "year")
) |>
  select(country, year, prespow1, gini_reported, regioncode) |>
  drop_na() |>
  filter(regioncode == "Americas")

final_dataset |>
 knitr::kable(col.names = c("Country", "Year", "Presidential Power", "Gini Coefficient", "Continent"))

```

```{r}
#(2) a data section that briefly describes the data source, describes how the key dependent and independent variables are measured (e.g., a survey, statistical model, or expert coding), and also produces a plot that summarizes the dependent variable; 
final_dataset |>
  ggplot(mapping = aes(x = year, color = country)) +
  geom_point(mapping = aes(y = gini_reported))

final_dataset
```

```{r}
graph_1 <- final_dataset |>
  ggplot(mapping = aes(y = gini_reported)) +
  geom_point(mapping = aes(x = prespow1)) +
  geom_smooth(mapping = aes(x = prespow1), method = "lm", se = FALSE)


graph_1
```
```{r}
project_regression <- lm(data = final_dataset, gini_reported ~ prespow1)
```

```{r}
library(broom)

glance(project_regression) |>
  select(r.squared, p.value) |>
  knitr::kable(col.names = c("R Squared", "P Value"))
```

```{r}
project_regression <- lm(data = final_dataset, gini_reported ~ prespow1)

modelsummary::modelsummary(project_regression,
                           statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                           gof_map = c("nobs", "r.squared", "adj.r.squared"))
```


